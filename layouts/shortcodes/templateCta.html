{{- $template := .Get "template" -}}
{{- $heading := "" -}}
{{- $imageURL := "" -}}

{{- if eq $template "changeManagement" -}}
    {{- $heading = "Change management template" -}}
    {{- $imageURL = "https://res.cloudinary.com/daog6scxm/image/upload/v1729518252/cms/templates-cta/ChangeManagementCTA_GIF_lml2we.gif" -}}
{{- else if eq $template "expenseApproval" -}}
    {{- $heading = "Expense approval template" -}}
    {{- $imageURL = "https://res.cloudinary.com/daog6scxm/image/upload/v1729518252/cms/templates-cta/ChangeManagementCTA_GIF_lml2we.gif" -}}  <!-- Same URL for testing -->
{{- else if eq $template "riskManagement" -}}
    {{- $heading = "Risk management template" -}}
    {{- $imageURL = "https://res.cloudinary.com/daog6scxm/image/upload/v1729518252/cms/templates-cta/ChangeManagementCTA_GIF_lml2we.gif" -}}  <!-- Same URL for testing -->
{{- end -}}

<div style="background-color: #22252a; padding: 20px; max-width: 800px; margin: auto; border-radius: 10px;">
    <div style="display: flex; align-items: center; flex-wrap: wrap;">
        <div class="cta-image" style="flex: 1; text-align: center;">
            <img src="{{ $imageURL }}" 
                 alt="{{ $heading }}" style="width: 100%; height: auto; max-width: 400px;"/>
        </div>
        <div style="flex: 1; text-align: left; padding-left: 20px;">
            <h1 style="color: #fff; margin-bottom: 15px; font-size: 18px;">Get started with our</h1>
            <h2 style="margin: 0; font-size: 28px; margin-bottom: 15px; font-weight: bold; 
                background: linear-gradient(60deg, #C8AFF0, rgb(249, 119, 119));
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;">
                {{ $heading }}
            </h2>
            <a href="https://account.budibase.app/register?utm_source=website&utm_medium=cta&utm_campaign=homepage-hero-section" target="_blank" rel="noopener">
                <button class="btn btn-cta">
                    Sign up for free
                </button>
            </a>
        </div>
    </div>
</div>

<style>
    @media (max-width: 768px) {
        .cta-image {
            display: none; /* Hides the image on mobile */
        }
        div[style*="flex: 1; text-align: left; padding-left: 20px;"] {
            text-align: left; /* Keep text left-aligned on mobile */
            padding-left: 0; /* Remove padding on mobile */
        }
        h1, h2 {
            font-size: 16px; /* Adjust font size */
        }
        h2 {
            font-size: 22px; /* Adjust font size for h2 */
        }
    }
</style>
