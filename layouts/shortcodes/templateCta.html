{{- $template := .Get "template" -}}
{{- $heading := "" -}}
{{- $imageURL := "" -}}

{{- if eq $template "changeManagement" -}}
    {{- $heading = "Change management template" -}}
    {{- $imageURL = "https://res.cloudinary.com/daog6scxm/image/upload/v1729518252/cms/templates-cta/ChangeManagementCTA_GIF_lml2we.gif" -}}
{{- else if eq $template "expenseApproval" -}}
    {{- $heading = "Expense approval template" -}}
    {{- $imageURL = "https://res.cloudinary.com/daog6scxm/image/upload/v1729518252/cms/templates-cta/ChangeManagementCTA_GIF_lml2we.gif" -}}  <!-- Same URL for testing -->
{{- else if eq $template "riskManagement" -}}
    {{- $heading = "Risk management template" -}}
    {{- $imageURL = "https://res.cloudinary.com/daog6scxm/image/upload/v1729518252/cms/templates-cta/ChangeManagementCTA_GIF_lml2we.gif" -}}  <!-- Same URL for testing -->
{{- end -}}

<div style="padding: 20px; max-width: 800px; margin: auto; display: flex; align-items: stretch; flex-wrap: wrap;">
    <!-- Left Side with Different Background Color -->
    <div class="left-side" style="flex: 1; text-align: center; background-color: #C8AFF0;; padding: 10px; border-top-left-radius: 10px; border-bottom-left-radius: 10px;">
        <div style="border: 5px solid #C8AFF0;; border-radius: 10px; padding: 0;">
            <img src="{{ $imageURL }}" 
                 alt="{{ $heading }}" style="width: 100%; height: auto; max-width: 350px; border-radius: 10px; margin: 0; padding: 0;"/>
        </div>
    </div>
    <!-- Right Side with Updated Background Color -->
    <div style="flex: 1; background-color: rgb(30, 25, 25); display: flex; align-items: center; justify-content: left; padding-left: 20px; border-top-right-radius: 10px; border-bottom-right-radius: 10px;">
        <div style="padding: 20px 20px 20px 0;"> <!-- Added vertical padding -->
            <h1 style="color: #fff; margin-bottom: 15px; font-size: 18px;">Get started with our</h1>
            <h2 style="margin: 0; font-size: 28px; margin-bottom: 15px; font-weight: bold; 
                background: linear-gradient(60deg, #C8AFF0, rgb(249, 119, 119));
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;">
                {{ $heading }}
            </h2>
            <a href="https://account.budibase.app/register?utm_source=website&utm_medium=cta&utm_campaign=homepage-hero-section" target="_blank" rel="noopener">
                <button class="btn btn-cta">
                    Sign up for free
                </button>
            </a>
        </div>
    </div>
</div>

<style>
    @media (max-width: 768px) {
        .left-side {
            display: none; /* Hide the entire left-side container on mobile */
        }
        div[style*="flex: 1; background-color: rgb(30, 25, 25);"] {
            padding: 20px; /* Adding vertical padding on mobile */
            border-radius: 10px; /* Round all corners on mobile */
        }
        h1, h2 {
            font-size: 16px; /* Adjust font size */
        }
        h2 {
            font-size: 22px; /* Adjust font size for h2 */
        }
    }
</style>
